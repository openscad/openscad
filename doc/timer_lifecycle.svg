<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="820"
   height="700"
   viewBox="0 0 820 700"
   version="1.1"
   id="svg26"
   sodipodi:docname="timer_lifecycle.svg"
   inkscape:version="1.4.2 (f4327f4, 2025-05-13)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview26"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     showguides="true"
     inkscape:zoom="1.6303862"
     inkscape:cx="429.6528"
     inkscape:cy="260.36776"
     inkscape:window-width="1920"
     inkscape:window-height="1046"
     inkscape:window-x="863"
     inkscape:window-y="2149"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg26" />
  <defs
     id="defs1">
    <marker
       id="arr-normal"
       viewBox="0 0 10 10"
       refX="9"
       refY="5"
       markerWidth="7"
       markerHeight="7"
       orient="auto">
      <path
         d="M 0 0 L 10 5 L 0 10 z"
         fill="#0072B2"
         id="path-normal" />
    </marker>
    <marker
       id="arr-error"
       viewBox="0 0 10 10"
       refX="9"
       refY="5"
       markerWidth="7"
       markerHeight="7"
       orient="auto">
      <path
         d="M 0 0 L 10 5 L 0 10 z"
         fill="#D55E00"
         id="path-error" />
    </marker>
    <marker
       id="arr-destructive"
       viewBox="0 0 10 10"
       refX="9"
       refY="5"
       markerWidth="7"
       markerHeight="7"
       orient="auto">
      <path
         d="M 0 0 L 10 5 L 0 10 z"
         fill="#E69F00"
         id="path-destructive" />
    </marker>
    <marker
       id="arr-reset"
       viewBox="0 0 10 10"
       refX="9"
       refY="5"
       markerWidth="7"
       markerHeight="7"
       orient="auto">
      <path
         d="M 0 0 L 10 5 L 0 10 z"
         fill="#009E73"
         id="path-reset" />
    </marker>
    <marker
       id="arr"
       viewBox="0 0 10 10"
       refX="9"
       refY="5"
       markerWidth="7"
       markerHeight="7"
       orient="auto">
      <path
         d="M 0 0 L 10 5 L 0 10 z"
         fill="#cccccc"
         id="path1" />
    </marker>
  </defs>
  <!-- background -->
  <rect
     width="820"
     height="700"
     fill="#1e1e1e"
     id="rect1" />
  <style
     id="style1">
    .node { fill: #bcbcbc; stroke: #8f8f8f; stroke-width: 1.5; }
    .e    { stroke: #cccccc; stroke-width: 1.6; fill: none; stroke-linejoin: round; stroke-linecap: round; }
    .e-normal { stroke: #0072B2; marker-end: url(#arr-normal); stroke-dasharray: none; }
    .e-error { stroke: #D55E00; marker-end: url(#arr-error); stroke-dasharray: 7 5; }
    .e-destructive { stroke: #E69F00; marker-end: url(#arr-destructive); }
    .e-reset { stroke: #009E73; marker-end: url(#arr-reset); stroke-dasharray: 2 5; }
    .dash { stroke: #cccccc; stroke-width: 1.6; fill: none; stroke-dasharray: 6 4; stroke-linejoin: round; stroke-linecap: round; }
    text  { font-family: 'Courier New', Courier, monospace; font-size: 12px; fill: #cccccc; }
    .state-label { fill: #242424; font-weight: bold; }
    .tlabel { fill: #e3cf73; font-weight: bold; }
    .tbg { fill: #0d0d0d; fill-opacity: 0.42; stroke: none; }
    .legend-title { fill: #cfcfcf; font-family: 'Courier New', Courier, monospace; font-size: 11px; font-weight: bold; }
    .legend-text { fill: #cfcfcf; font-family: 'Courier New', Courier, monospace; font-size: 10px; }
  </style>
  <rect
     x="20"
     y="96"
     width="150"
     height="102"
     rx="6"
     ry="6"
     class="tbg"
     id="legend-bg" />
  <text
     x="32"
     y="112"
     class="legend-title"
     id="legend-title">Legend</text>
  <line
     x1="32"
     y1="128"
     x2="58"
     y2="128"
     class="e e-normal"
     id="legend-normal-line" />
  <text
     x="66"
     y="131"
     class="legend-text"
     id="legend-normal-text">normal</text>
  <line
     x1="32"
     y1="146"
     x2="58"
     y2="146"
     class="e e-error"
     id="legend-error-line" />
  <text
     x="66"
     y="149"
     class="legend-text"
     id="legend-error-text">error</text>
  <line
     x1="32"
     y1="164"
     x2="58"
     y2="164"
     class="e e-destructive"
     id="legend-destr-line" />
  <text
     x="66"
     y="167"
     class="legend-text"
     id="legend-destr-text">destructive</text>
  <line
     x1="32"
     y1="182"
     x2="58"
     y2="182"
     class="e e-reset"
     id="legend-reset-line" />
  <text
     x="66"
     y="185"
     class="legend-text"
     id="legend-reset-text">reset</text>
  <!-- ── State boxes ── -->
  <!-- NONE: center (400, 45), 80×28 -->
  <rect
     x="360"
     y="31"
     width="80"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect2" />
  <text
     x="400"
     y="45"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text2"><tspan
       id="tspan11">NONE</tspan></text>
  <!-- STOPPED: center (400, 250), 100×28 -->
  <rect
     x="350"
     y="236"
     width="100"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect3" />
  <text
     x="400"
     y="250"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text3"><tspan
       id="tspan8">STOPPED</tspan></text>
  <!-- RUNNING: center (400, 460), 100×28 -->
  <rect
     x="350"
     y="446"
     width="100"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect4" />
  <text
     x="400"
     y="460"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text4"><tspan
       id="tspan9">RUNNING</tspan></text>
  <!-- GONE: center (400, 640), 80×28 -->
  <rect
     x="360"
     y="626"
     width="80"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect5" />
  <text
     x="400"
     y="640"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text5"><tspan
       id="tspan12">GONE</tspan></text>
  <!-- ERROR left (near STOPPED): center (95, 286), 72×28 -->
  <rect
     x="59"
     y="272"
     width="72"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect6" />
  <text
     x="95"
     y="286"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text6"><tspan
       id="tspan10">ERROR</tspan></text>
  <!-- ERROR right (near RUNNING): center (715, 500), 72×28 -->
  <rect
     x="679"
     y="486"
     width="72"
     height="28"
     rx="6"
     ry="6"
     class="node"
     id="rect7" />
  <text
     x="715"
     y="500"
     text-anchor="middle"
     dy="0.34999999em"
     class="state-label"
     id="text7"><tspan
       id="tspan13">ERROR</tspan></text>
  <!-- ── NONE → horizontal split ── -->
  <!-- Vertical stem from NONE bottom to split line -->
  <line
     x1="400"
     y1="59"
     x2="400"
     y2="75"
     class="e"
     style="stroke:#0072B2"
     id="line7" />
  <!-- Horizontal split bar -->
  <line
     x1="204"
     y1="75"
     x2="634"
     y2="75"
     class="e"
     style="stroke:#0072B2"
     id="line8" />
  <!-- Split line labels -->
  <g
     id="g9"
     transform="translate(8,-14)">
    <rect
       x="226"
       y="57"
       width="96"
       height="34"
       rx="4"
       ry="4"
       class="tbg"
       id="rect28" />
    <text
       x="275.11035"
       y="70.755859"
       text-anchor="middle"
       class="tlabel"
       id="text8"><tspan
         x="275.11035"
         dy="0"
         id="tspan28">timer_new()</tspan><tspan
         x="275.11035"
         dy="15"
         id="tspan29">stored=0</tspan></text>
  </g>
  <g
     id="g4"
     transform="translate(-16,-14)">
    <g
       id="g3">
      <rect
         x="480"
         y="57"
         width="160"
         height="34"
         rx="4"
         ry="4"
         class="tbg"
         id="rect29" />
      <text
         x="561.11035"
         y="70.755859"
         text-anchor="middle"
         class="tlabel"
         id="text10"><tspan
           x="561.11035"
           dy="0"
           id="tspan30">timer_new(start=true)</tspan><tspan
           x="561.11035"
           dy="15"
           id="tspan31">stored=0</tspan></text>
    </g>
  </g>
  <!-- Left branch → STOPPED (solid) -->
  <path
     d="M 204 75 Q 188 75 188 91 L 188 234 Q 188 250 204 250 L 350 250"
     class="e e-normal"
     id="polyline11" />
  <!-- Right branch → RUNNING (solid) -->
  <path
     d="M 634 75 Q 650 75 650 91 L 650 444 Q 650 460 634 460 L 450 460"
     class="e e-normal"
     id="polyline12" />
  <!-- ── timer_clear self-loop on STOPPED ── -->
  <!-- Exits top of STOPPED at x=440, loops right, re-enters right side at y=250 -->
  <path
     d="M 440 236 L 440 201 Q 440 185 456 185 L 499 185 Q 515 185 515 201 L 515 234 Q 515 250 499 250 L 450 250"
     class="e e-reset"
     id="polyline13" />
  <g
     id="g10"
     transform="translate(-4,24)">
    <rect
       x="430"
       y="127"
       width="102"
       height="37.066757"
       rx="4"
       ry="4.360795"
       class="tbg"
       id="rect30"
       style="stroke-width:1.04413" />
    <text
       x="482.11035"
       y="141.78925"
       text-anchor="middle"
       class="tlabel"
       id="text13"><tspan
         x="482.11035"
         dy="0"
         id="tspan32">timer_clear()</tspan><tspan
         x="482.11035"
         dy="15"
         id="tspan33">stored=0</tspan></text>
  </g>
  <!-- ── STOPPED → ERROR-L  (timer_stop on a stopped timer) ── -->
  <path
     d="M 370 264 L 370 270 Q 370 286 354 286 L 131 286"
     class="e e-error"
     id="polyline14" />
  <g
     id="g5"
     transform="translate(0,6)">
    <rect
       x="198"
       y="260"
       width="108"
       height="24"
       rx="4"
       ry="4"
       class="tbg"
       id="rect31" />
    <text
       x="253.11035"
       y="274.05078"
       text-anchor="middle"
       class="tlabel"
       id="text15">timer_stop()</text>
  </g>
  <!-- ── Center channels: STOPPED ↔ RUNNING ── -->
  <!-- Down (STOPPED→RUNNING, timer_start): x=410 -->
  <line
     x1="410"
     y1="264"
     x2="410"
     y2="446"
     class="e e-normal"
     id="line15" />
  <!-- Up (RUNNING→STOPPED, timer_stop/clear): x=430 -->
  <line
     x1="430"
     y1="446"
     x2="430"
     y2="264"
     class="e e-normal"
     id="line16" />
  <!-- Left channel label (timer_start) — right-anchored left of x=410 -->
  <g
     id="g7"
     transform="translate(4,16)">
    <rect
       x="281.6792"
       y="371"
       width="131"
       height="44"
       rx="4"
       ry="4"
       class="tbg"
       id="rect32" />
    <text
       x="403.9126"
       y="387.59863"
       text-anchor="end"
       class="tlabel"
       id="text16"
       style="text-align:center;text-anchor:middle"><tspan
         x="346.65479"
         dy="0"
         id="tspan34"
         style="text-align:center;text-anchor:middle">timer_start()</tspan><tspan
         x="346.65479"
         dy="15"
         id="tspan35"
         style="text-align:center;text-anchor:middle">stored unchanged</tspan></text>
  </g>
  <!-- Right channel label (timer_stop / timer_clear) — left-anchored right of x=430 -->
  <g
     id="g8"
     transform="translate(-4,34)">
    <rect
       x="430"
       y="268"
       width="199.68011"
       height="92"
       rx="4"
       ry="4"
       class="tbg"
       id="rect33"
       style="stroke-width:1.00934" />
    <text
       x="436.02853"
       y="286.25586"
       text-anchor="start"
       class="tlabel"
       id="text18"><tspan
         x="436.02853"
         dy="0"
         id="tspan36">timer_stop()</tspan><tspan
         x="436.02853"
         dy="15"
         id="tspan37">stored += since last start</tspan><tspan
         x="436.02853"
         dy="15"
         id="tspan38">or</tspan><tspan
         x="436.02853"
         dy="15"
         id="tspan39">timer_clear()</tspan><tspan
         x="436.02853"
         dy="15"
         id="tspan40">stored=0</tspan></text>
  </g>
  <!-- ── timer_delete branch: direct branch from STOPPED bottom at x=390 to GONE ── -->
  <path
     d="M 390 264 L 390 339 Q 390 355 374 355 L 204 355 Q 188 355 188 371 L 188 624 Q 188 640 204 640 L 360 640"
     class="e e-destructive"
     id="polyline22" />
  <g
     id="g6"
     transform="translate(0,10)">
    <rect
       x="237"
       y="325.77328"
       width="110"
       height="25.226704"
       rx="4"
       ry="4"
       class="tbg"
       id="rect34"
       style="stroke-width:1.02524" />
    <text
       x="242.70215"
       y="340.43741"
       text-anchor="start"
       class="tlabel"
       id="text23">timer_delete()</text>
  </g>
  <!-- ── RUNNING → GONE (center down arrow) ── -->
  <line
     x1="400"
     y1="474"
     x2="400"
     y2="626"
     class="e e-destructive"
     id="line23" />
  <rect
     x="316"
     y="546"
     width="174"
     height="34"
     rx="4"
     ry="4"
     class="tbg"
     id="rect27" />
  <g
     id="g1"
     transform="translate(4.9238281,1.0507812)">
    <text
       x="482"
       y="556"
       text-anchor="end"
       class="tlabel"
       id="text24"><tspan
         id="tspan26">timer_stop(delete=true)</tspan></text>
    <text
       x="440.57812"
       y="572"
       text-anchor="end"
       class="tlabel"
       id="text25"><tspan
         x="460.57812"
         id="tspan27">or timer_delete()</tspan></text>
  </g>
  <!-- ── RUNNING → ERROR-R  (timer_start on a running timer) ── -->
  <path
     d="M 430 474 L 430 484 Q 430 500 446 500 L 679 500"
     class="e e-error"
     id="polyline25" />
  <g
     id="g2">
    <rect
       x="497"
       y="480"
       width="102"
       height="24"
       rx="4"
       ry="4"
       class="tbg"
       id="rect35" />
    <text
       x="549.11035"
       y="494.05078"
       text-anchor="middle"
       class="tlabel"
       id="text26">timer_start()</text>
  </g>
</svg>
